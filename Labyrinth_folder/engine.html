<!DOCTYPE html>
<html>
    <!--QGS tile engine v0.3 by qgsoftware.net-->
    <style>
        * {
            text-align: center;
        }
        canvas {
            height: 97vh;
            
            image-rendering: -moz-crisp-edges;
            image-rendering: -o-crisp-edges;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: pixelated;
        }
    </style>
    <body>
        <!--PASTE CANVAS TAG UNDER HERE [note: you can change size and position with css or putting the tag where you want]-->
        <canvas id='testmp'></canvas>
        
        <br>
        <!--PASTE IMAGE TAGS UNDER HERE [note: you can hide this with css]-->
        <div id="images">
            <img src="images/stone.bmp" id="stone">
            <img src="images/dark.bmp" id="dark">
            <img src="images/stone_bricks.bmp" id="stone_bricks">
            <img src="images/player_front.png" id="player">
            <img src="images/player_back.png" id="player_b">
            <img src="images/player_right.png" id="player_r">
            <img src="images/player_left.png" id="player_l"></div>
        
            <img src="images/door.bmp" id="images/door.bmp"><img src="images/door.bmp" id="door"><img src="images/yellowdoor.bmp" id="yellowdoor"><img src="images/yellow_door.bmp" id="yellow_door"><img src="images/red_door.bmp" id="red_door"><img src="images/green_door.bmp" id="green_door"><img src="images/orange_door.bmp" id="orange_door">
        
            <img src="images/yellow_key.png" id="yellow_key"><img src="images/red_key.png" id="red_key"><img src="images/green_key.png" id="green_key"><img src="images/orange_key.png" id="orange_key">

        
        <script>
            //PASTE CANVAS VARIABLES UNDER HERE
            var canvas_name = "testmp"; var texture_dimensions = 7; var grid_height = 84; var grid_width = 98;
            //PASTE TILES UNDER HERE
            var tiles = [{x:-21, y:-49, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-14, y:-49, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-7, y:-49, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:0, y:-49, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:7, y:-49, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:14, y:-49, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:21, y:-49, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:28, y:-49, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:35, y:-49, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:42, y:-49, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-49, y:-49, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-42, y:-49, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-35, y:-49, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-28, y:-49, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-49, y:-42, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-49, y:-35, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-49, y:-28, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:42, y:-42, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:42, y:-35, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:42, y:-28, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-35, y:-28, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-21, y:-28, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-7, y:-28, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:7, y:-28, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:21, y:-28, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:35, y:-28, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-42, y:-28, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:42, y:-21, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:42, y:-14, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-49, y:-21, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-49, y:-14, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-49, y:-7, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-49, y:0, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-42, y:0, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:42, y:-7, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:42, y:0, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-35, y:0, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-28, y:0, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-21, y:0, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-14, y:0, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-7, y:0, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:0, y:0, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:7, y:0, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:14, y:0, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:21, y:0, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:28, y:0, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:42, y:7, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:42, y:14, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:42, y:21, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:28, y:7, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:28, y:14, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:28, y:21, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:42, y:28, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:42, y:35, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:14, y:35, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:21, y:35, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:28, y:35, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:35, y:35, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:7, y:21, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:14, y:21, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:21, y:21, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-14, y:21, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-7, y:21, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:0, y:21, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-14, y:35, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-7, y:35, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:0, y:35, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:7, y:35, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-49, y:7, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-49, y:14, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-49, y:21, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-49, y:28, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-49, y:35, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-42, y:35, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-35, y:35, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-28, y:35, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-21, y:35, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-35, y:21, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-28, y:21, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-21, y:21, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-42, y:7, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-35, y:7, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-28, y:7, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-21, y:7, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-14, y:7, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-7, y:7, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:0, y:7, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:7, y:7, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:14, y:7, type:'wall', image:stone_bricks, image_string:'stone_bricks'},{x:-56, y:42, type:'dark', image:dark, image_string:'dark'},{x:-49, y:42, type:'dark', image:dark, image_string:'dark'},{x:-42, y:42, type:'dark', image:dark, image_string:'dark'},{x:-35, y:42, type:'dark', image:dark, image_string:'dark'},{x:-28, y:42, type:'dark', image:dark, image_string:'dark'},{x:-21, y:42, type:'dark', image:dark, image_string:'dark'},{x:-14, y:42, type:'dark', image:dark, image_string:'dark'},{x:-7, y:42, type:'dark', image:dark, image_string:'dark'},{x:0, y:42, type:'dark', image:dark, image_string:'dark'},{x:7, y:42, type:'dark', image:dark, image_string:'dark'},{x:14, y:42, type:'dark', image:dark, image_string:'dark'},{x:21, y:42, type:'dark', image:dark, image_string:'dark'},{x:28, y:42, type:'dark', image:dark, image_string:'dark'},{x:35, y:42, type:'dark', image:dark, image_string:'dark'},{x:42, y:42, type:'dark', image:dark, image_string:'dark'},{x:49, y:42, type:'dark', image:dark, image_string:'dark'},{x:49, y:-56, type:'dark', image:dark, image_string:'dark'},{x:49, y:-49, type:'dark', image:dark, image_string:'dark'},{x:49, y:-42, type:'dark', image:dark, image_string:'dark'},{x:49, y:-35, type:'dark', image:dark, image_string:'dark'},{x:49, y:-28, type:'dark', image:dark, image_string:'dark'},{x:49, y:-21, type:'dark', image:dark, image_string:'dark'},{x:49, y:-14, type:'dark', image:dark, image_string:'dark'},{x:49, y:-7, type:'dark', image:dark, image_string:'dark'},{x:49, y:0, type:'dark', image:dark, image_string:'dark'},{x:49, y:7, type:'dark', image:dark, image_string:'dark'},{x:49, y:14, type:'dark', image:dark, image_string:'dark'},{x:49, y:21, type:'dark', image:dark, image_string:'dark'},{x:49, y:28, type:'dark', image:dark, image_string:'dark'},{x:49, y:35, type:'dark', image:dark, image_string:'dark'},{x:-56, y:-56, type:'dark', image:dark, image_string:'dark'},{x:-49, y:-56, type:'dark', image:dark, image_string:'dark'},{x:-42, y:-56, type:'dark', image:dark, image_string:'dark'},{x:-35, y:-56, type:'dark', image:dark, image_string:'dark'},{x:-28, y:-56, type:'dark', image:dark, image_string:'dark'},{x:-21, y:-56, type:'dark', image:dark, image_string:'dark'},{x:-14, y:-56, type:'dark', image:dark, image_string:'dark'},{x:-7, y:-56, type:'dark', image:dark, image_string:'dark'},{x:0, y:-56, type:'dark', image:dark, image_string:'dark'},{x:7, y:-56, type:'dark', image:dark, image_string:'dark'},{x:14, y:-56, type:'dark', image:dark, image_string:'dark'},{x:21, y:-56, type:'dark', image:dark, image_string:'dark'},{x:28, y:-56, type:'dark', image:dark, image_string:'dark'},{x:35, y:-56, type:'dark', image:dark, image_string:'dark'},{x:42, y:-56, type:'dark', image:dark, image_string:'dark'},{x:-56, y:-49, type:'dark', image:dark, image_string:'dark'},{x:-56, y:-42, type:'dark', image:dark, image_string:'dark'},{x:-56, y:-35, type:'dark', image:dark, image_string:'dark'},{x:-56, y:-28, type:'dark', image:dark, image_string:'dark'},{x:-56, y:-21, type:'dark', image:dark, image_string:'dark'},{x:-56, y:-14, type:'dark', image:dark, image_string:'dark'},{x:-56, y:-7, type:'dark', image:dark, image_string:'dark'},{x:-56, y:0, type:'dark', image:dark, image_string:'dark'},{x:-56, y:7, type:'dark', image:dark, image_string:'dark'},{x:-56, y:14, type:'dark', image:dark, image_string:'dark'},{x:-56, y:21, type:'dark', image:dark, image_string:'dark'},{x:-56, y:28, type:'dark', image:dark, image_string:'dark'},{x:-56, y:35, type:'dark', image:dark, image_string:'dark'},{x:-42, y:-42, type:'floor', image:stone, image_string:'stone'},{x:-35, y:-42, type:'floor', image:stone, image_string:'stone'},{x:-28, y:-42, type:'floor', image:stone, image_string:'stone'},{x:-21, y:-42, type:'floor', image:stone, image_string:'stone'},{x:-14, y:-42, type:'floor', image:stone, image_string:'stone'},{x:-7, y:-42, type:'floor', image:stone, image_string:'stone'},{x:0, y:-42, type:'floor', image:stone, image_string:'stone'},{x:7, y:-42, type:'floor', image:stone, image_string:'stone'},{x:14, y:-42, type:'floor', image:stone, image_string:'stone'},{x:21, y:-42, type:'floor', image:stone, image_string:'stone'},{x:28, y:-42, type:'floor', image:stone, image_string:'stone'},{x:35, y:-42, type:'floor', image:stone, image_string:'stone'},{x:-42, y:-35, type:'floor', image:stone, image_string:'stone'},{x:-35, y:-35, type:'floor', image:stone, image_string:'stone'},{x:-28, y:-35, type:'floor', image:stone, image_string:'stone'},{x:-21, y:-35, type:'floor', image:stone, image_string:'stone'},{x:-14, y:-35, type:'floor', image:stone, image_string:'stone'},{x:-7, y:-35, type:'floor', image:stone, image_string:'stone'},{x:0, y:-35, type:'floor', image:stone, image_string:'stone'},{x:7, y:-35, type:'floor', image:stone, image_string:'stone'},{x:14, y:-35, type:'floor', image:stone, image_string:'stone'},{x:21, y:-35, type:'floor', image:stone, image_string:'stone'},{x:28, y:-35, type:'floor', image:stone, image_string:'stone'},{x:35, y:-35, type:'floor', image:stone, image_string:'stone'},{x:-42, y:-21, type:'floor', image:stone, image_string:'stone'},{x:-35, y:-21, type:'floor', image:stone, image_string:'stone'},{x:-28, y:-21, type:'floor', image:stone, image_string:'stone'},{x:-21, y:-21, type:'floor', image:stone, image_string:'stone'},{x:-14, y:-21, type:'floor', image:stone, image_string:'stone'},{x:-7, y:-21, type:'floor', image:stone, image_string:'stone'},{x:0, y:-21, type:'floor', image:stone, image_string:'stone'},{x:7, y:-21, type:'floor', image:stone, image_string:'stone'},{x:14, y:-21, type:'floor', image:stone, image_string:'stone'},{x:21, y:-21, type:'floor', image:stone, image_string:'stone'},{x:28, y:-21, type:'floor', image:stone, image_string:'stone'},{x:35, y:-21, type:'floor', image:stone, image_string:'stone'},{x:-42, y:-14, type:'floor', image:stone, image_string:'stone'},{x:-35, y:-14, type:'floor', image:stone, image_string:'stone'},{x:-28, y:-14, type:'floor', image:stone, image_string:'stone'},{x:-21, y:-14, type:'floor', image:stone, image_string:'stone'},{x:-14, y:-14, type:'floor', image:stone, image_string:'stone'},{x:-7, y:-14, type:'floor', image:stone, image_string:'stone'},{x:0, y:-14, type:'floor', image:stone, image_string:'stone'},{x:7, y:-14, type:'floor', image:stone, image_string:'stone'},{x:14, y:-14, type:'floor', image:stone, image_string:'stone'},{x:21, y:-14, type:'floor', image:stone, image_string:'stone'},{x:28, y:-14, type:'floor', image:stone, image_string:'stone'},{x:35, y:-14, type:'floor', image:stone, image_string:'stone'},{x:-42, y:-7, type:'floor', image:stone, image_string:'stone'},{x:-35, y:-7, type:'floor', image:stone, image_string:'stone'},{x:-28, y:-7, type:'floor', image:stone, image_string:'stone'},{x:-21, y:-7, type:'floor', image:stone, image_string:'stone'},{x:-14, y:-7, type:'floor', image:stone, image_string:'stone'},{x:-7, y:-7, type:'floor', image:stone, image_string:'stone'},{x:0, y:-7, type:'floor', image:stone, image_string:'stone'},{x:7, y:-7, type:'floor', image:stone, image_string:'stone'},{x:14, y:-7, type:'floor', image:stone, image_string:'stone'},{x:21, y:-7, type:'floor', image:stone, image_string:'stone'},{x:28, y:-7, type:'floor', image:stone, image_string:'stone'},{x:35, y:-7, type:'floor', image:stone, image_string:'stone'},{x:35, y:0, type:'floor', image:stone, image_string:'stone'},{x:35, y:7, type:'floor', image:stone, image_string:'stone'},{x:35, y:14, type:'floor', image:stone, image_string:'stone'},{x:35, y:21, type:'floor', image:stone, image_string:'stone'},{x:35, y:28, type:'floor', image:stone, image_string:'stone'},{x:-42, y:28, type:'floor', image:stone, image_string:'stone'},{x:-35, y:28, type:'floor', image:stone, image_string:'stone'},{x:-28, y:28, type:'floor', image:stone, image_string:'stone'},{x:-21, y:28, type:'floor', image:stone, image_string:'stone'},{x:-14, y:28, type:'floor', image:stone, image_string:'stone'},{x:-7, y:28, type:'floor', image:stone, image_string:'stone'},{x:0, y:28, type:'floor', image:stone, image_string:'stone'},{x:7, y:28, type:'floor', image:stone, image_string:'stone'},{x:14, y:28, type:'floor', image:stone, image_string:'stone'},{x:21, y:28, type:'floor', image:stone, image_string:'stone'},{x:28, y:28, type:'floor', image:stone, image_string:'stone'},{x:-42, y:14, type:'floor', image:stone, image_string:'stone'},{x:-35, y:14, type:'floor', image:stone, image_string:'stone'},{x:-28, y:14, type:'floor', image:stone, image_string:'stone'},{x:-21, y:14, type:'floor', image:stone, image_string:'stone'},{x:-14, y:14, type:'floor', image:stone, image_string:'stone'},{x:-7, y:14, type:'floor', image:stone, image_string:'stone'},{x:0, y:14, type:'floor', image:stone, image_string:'stone'},{x:7, y:14, type:'floor', image:stone, image_string:'stone'},{x:14, y:14, type:'floor', image:stone, image_string:'stone'},{x:21, y:14, type:'floor', image:stone, image_string:'stone'},{x:-28, y:-28, type:'floor', image:stone, image_string:'stone'},{x:-14, y:-28, type:'floor', image:stone, image_string:'stone'},{x:0, y:-28, type:'floor', image:stone, image_string:'stone'},{x:14, y:-28, type:'floor', image:stone, image_string:'stone'},{x:28, y:-28, type:'floor', image:stone, image_string:'stone'},{x:-42, y:21, type:'floor', image:stone, image_string:'stone'},{x:21, y:7, type:'floor', image:stone, image_string:'stone'},{x:28, y:-28, type:'door', image:door, image_string:'door'},{x:14, y:-28, type:'yellow_door', image:yellow_door, image_string:'yellow_door'},{x:0, y:-28, type:'red_door', image:red_door, image_string:'red_door'},{x:-14, y:-28, type:'green_door', image:green_door, image_string:'green_door'},{x:-28, y:-28, type:'orange_door', image:orange_door, image_string:'orange_door'},{x:35, y:0, type:'yellow_key', image:yellow_key, image_string:'yellow_key'},{x:14, y:-42, type:'yellow_key', image:yellow_key, image_string:'yellow_key'},{x:0, y:-42, type:'red_key', image:red_key, image_string:'red_key'},{x:35, y:14, type:'red_key', image:red_key, image_string:'red_key'},{x:-14, y:-42, type:'green_key', image:green_key, image_string:'green_key'},{x:35, y:28, type:'green_key', image:green_key, image_string:'green_key'},{x:-28, y:-42, type:'orange_key', image:orange_key, image_string:'orange_key'},{x:21, y:28, type:'orange_key', image:orange_key, image_string:'orange_key'}];
            
            //push player tile
            var player_tile = {x:0, y:0, type:'player', image:player, image_string:'player'}; tiles.push(player_tile);
            
            //canvas info
            var canvas = document.getElementById(canvas_name);
            var ctx = canvas.getContext("2d");
            ctx.translate(canvas.width / 2,canvas.height / 2);
            
            //canvas dimensions
            document.getElementById(canvas_name).width = grid_width;
            document.getElementById(canvas_name).height = grid_height;
            
            //render stuff
            var change_tile = 0;
            var new_tile_num = 0;
            window.setInterval(function(){ render(); }, 0);
            function render() {
                var new_tile_num = 0;
                var num_of_tiles = tiles.length - 1;
                var loop = true;
                while (loop) {
                    if (new_tile_num <= num_of_tiles) {
                        change_tile = tiles[new_tile_num];
                        change_tile.x = change_tile.x;
                        change_tile.y = change_tile.y;
                        ctx.imageSmoothingEnabled = false;
                        develop();
                        change_tile = "";
                        new_tile_num = new_tile_num + 1;
                    } else {
                        loop = false;
                    }
                }
            }
            
            //developer function
            //NOTE: attributes of each tile are
            //x:
            //y:
            //type:
            function develop() {
                if (change_tile.type == "player") {
                    //set player coordinates to player tile
                    change_tile.x = player1_x;
                    change_tile.y = player1_y - 7;
                    
                    //set player directional texture
                    if (direction == "south") {
                        change_tile.image = player;
                    }
                    if (direction == "north") {
                        change_tile.image = player_b;
                    }
                    if (direction == "west") {
                        change_tile.image = player_l;
                    }
                    if (direction == "east") {
                        change_tile.image = player_r;
                    }
                }

                //this is the line that finally renders the tile
                ctx.drawImage(change_tile.image, change_tile.x + grid_width/2 - player1_x, change_tile.y + grid_height/2 - player1_y);
            }
            
            
            function collision(labeldir) {
                var new_tile_num = 0;
                var num_of_tiles = tiles.length;
                var loop = true;
                while (loop) {
                    if (new_tile_num < num_of_tiles) {
                        change_tile = tiles[new_tile_num];
                        if (change_tile.type == "wall" || change_tile.type == "yellow_door" || change_tile.type == "red_door" || change_tile.type == "green_door" || change_tile.type == "orange_door" || change_tile.type == "yellow_key" || change_tile.type == "red_key" || change_tile.type == "green_key" || change_tile.type == "orange_key") {
                            
                            var coord_spoof_x = 0;
                            var coord_spoof_y = 0;
                            if (south == true && labeldir == "south") {
                                coord_spoof_y = 1;
                            }
                            if (north == true && labeldir == "north") {
                                coord_spoof_y = 0 - 1;
                            }
                            if (west == true && labeldir == "west") {
                                coord_spoof_x = 0 - 1;
                            }
                            if (east == true && labeldir == "east") {
                                coord_spoof_x = 1;
                            }
                            if (change_tile.x < player1_x + 7 + coord_spoof_x && change_tile.x + 7 > player1_x + coord_spoof_x && change_tile.y < player1_y + 7 + coord_spoof_y && change_tile.y + 7 > player1_y + coord_spoof_y) {
                                
                                if (change_tile.type == "wall" || change_tile.type == "yellow_door" || change_tile.type == "red_door" || change_tile.type == "green_door" || change_tile.type == "orange_door") {
                                    if (detect_key()) {
                                        return true;
                                    }
                                }
                                else if (change_tile.type == "yellow_key") {
                                    change_tile.x = 9999999999999999;
                                    yellow = true;
                                    return false;
                                }
                                else if (change_tile.type == "red_key") {
                                    change_tile.x = 9999999999999999;
                                    red = true;
                                    return false;
                                }
                                else if (change_tile.type == "green_key") {
                                    change_tile.x = 9999999999999999;
                                    green = true;
                                    return false;
                                }
                                else if (change_tile.type == "orange_key") {
                                    change_tile.x = 9999999999999999;
                                    orange = true;
                                    return false;
                                }
                            }
                        }
                        new_tile_num = new_tile_num + 1;
                    } else {
                        loop = false;
                    }
                }
            }
            
            function detect_key() {
                if (change_tile.type == "yellow_door" && key_test(yellow)) {
                    return false;
                } else if (change_tile.type == "red_door" && key_test(red)) {
                    return false;
                } else if (change_tile.type == "green_door" && key_test(green)) {
                    return false;
                } else if (change_tile.type == "orange_door" && key_test(orange)) {
                    return false;
                } else {
                    return true;
                }
            }
            
            //testfor keys
            function key_test(color) {
                if (color == true) {
                    return true;
                } else {
                    return false;
                }
            }

            //INDEPENDENTS\/
            
            //player 1 information
            //coordinates
            var player1_x = 0;
            var player1_y = -7;
            //orientation
            var direction;
            //movement
            var north = false;
            var south = false;
            var east = false;
            var west = false;
            //keys
            var red = false;
            var green = false;
            var yellow = false;
            var orange = false;
            
            //test for what key is down, set direction variable to it's direction and sets north/south/east/west to true
            window.addEventListener("keydown", binds, false);
            function binds(e) {
                //ARROW KEYS
                if (e.keyCode == "40") {
                    //set south
                    direction = "south";
                    //south = true;
                }
                if (e.keyCode == "39") {
                    //set east
                    direction = "east";
                    //east = true;
                }
                if (e.keyCode == "38") {
                    //set north
                    direction = "north";
                    //north = true;
                }
                if (e.keyCode == "37") {
                    //set west
                    direction = "west";
                    //west = true;
                }
                
                //WASD
                if (e.keyCode == "87") {
                    //set north
                    north = true;
                }
                if (e.keyCode == "83") {
                    //set south
                    south = true;
                }
                if (e.keyCode == "68") {
                    //set west
                    east = true;
                }
                if (e.keyCode == "65") {
                    //set west
                    west = true;
                }
            }
            
            //test for which key is no longer pressed and disable it
            window.addEventListener("keyup", upbinds, false);
            function upbinds(u) {                
                //WASD
                if (u.keyCode == "87") {
                    //set north
                    north = false;
                }
                if (u.keyCode == "83") {
                    //set south
                    south = false;
                }
                if (u.keyCode == "68") {
                    //set west
                    east = false;
                }
                if (u.keyCode == "65") {
                    //set west
                    west = false;
                }
            }
            
            //add coordinate by 1, depending on if the direction is true and if it doesn't collide
            window.setInterval(function(){ set_coordinates(); }, 25);
            function set_coordinates() {
                //north
                if (north == true && !collision("north")) {
                    player1_y = player1_y - 1;
                }
                //south
                if (south == true && !collision("south")) {
                    player1_y = player1_y + 1;
                }
                //east
                if (east == true && !collision("east")) {
                    player1_x = player1_x + 1;
                }
                //west
                if (west == true && !collision("west")) {
                    player1_x = player1_x - 1;
                }
                
            }
            
            
        </script>
    </body>
</html>